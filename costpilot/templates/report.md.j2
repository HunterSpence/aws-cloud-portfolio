# ðŸ’¸ CostPilot â€” AWS Cost Optimization Report

**Generated:** {{ generated_at }}
**Period:** {{ costs.period.start }} to {{ costs.period.end }} ({{ costs.period.days }} days)

---

## Executive Summary

| Metric | Value |
|--------|-------|
| Total Spend (period) | **${{ "%.2f"|format(costs.total_spend) }}** |
| Average Daily | ${{ "%.2f"|format(costs.avg_daily) }} |
| Projected Monthly | ${{ "%.2f"|format(costs.projected_monthly) }} |
| Cost Spikes Detected | {{ costs.cost_spikes|length }} |
| **Total Potential Savings** | **${{ "%.2f"|format(total_savings) }}/month** |

---

## Top Services by Spend

| Service | Monthly Cost |
|---------|-------------|
{% for svc in costs.top_services -%}
| {{ svc.service }} | ${{ "%.2f"|format(svc.amount) }} |
{% endfor %}

---

## EC2 Rightsizing Recommendations

Analyzed **{{ sizing.instances_analyzed }}** instances (threshold: {{ sizing.cpu_threshold }}% avg CPU)

{% if sizing.recommendations -%}
| Instance | Name | Current | Recommended | Avg CPU | Monthly Savings |
|----------|------|---------|-------------|---------|----------------|
{% for r in sizing.recommendations -%}
| {{ r.instance_id }} | {{ r.name }} | {{ r.current_type }} | {{ r.recommended_type }} | {{ r.avg_cpu_percent }}% | ${{ "%.2f"|format(r.monthly_savings) }} |
{% endfor %}
**Total rightsizing savings: ${{ "%.2f"|format(sizing.potential_savings) }}/month**
{% else -%}
âœ… No rightsizing recommendations â€” instances are properly sized.
{% endif %}

---

## Unused Resources

Found **{{ unused.total_unused }}** unused resources wasting **${{ "%.2f"|format(unused.potential_savings) }}/month**

{% for category, items in unused.resources.items() -%}
{% if items -%}
### {{ category|replace('_', ' ')|title }}

{% for item in items[:10] -%}
- **{{ item.id }}** ({{ item.type }}) â€” ${{ "%.2f"|format(item.monthly_cost) }}/mo â€” {{ item.action }}
{% endfor %}

{% endif -%}
{% endfor %}

---

## Spend by Region

| Region | Cost |
|--------|------|
{% for r in costs.by_region -%}
| {{ r.region }} | ${{ "%.2f"|format(r.amount) }} |
{% endfor %}

---

*Generated by CostPilot â€” AWS Cloud Cost Optimization Engine*
